---
title: "Database"
description: "Blazor Spark database"
---

# Database
Blazor Spark sets up your database connections for you. The only thing you have to worry about is setting up your configurations for which database type to use and its connection details.

Blazor Spark Supported database types:
- SQLite
- PostgreSQL
- MySQL

## Configuration
By default, when a new Blazor Spark app is created, it comes with a SQLite already wired up. Databases configurations are setup in your `.env` file.

You can switch your database type by changing the `DB_CONNECTION` value to one of our other supported databases.

### SQlite ENV Example
```ini
DB_CONNECTION=sqlite
DB_HOST=null
DB_PORT=null
DB_DATABASE=Spark.db
DB_USERNAME=root
DB_PASSWORD=
```

### PostgreSQL ENV Example
```ini
DB_CONNECTION=postgres
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=your_db_name
DB_USERNAME=your_user
DB_PASSWORD=your_user_password
```
### MySQL ENV Example
```ini
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_db_name
DB_USERNAME=your_user
DB_PASSWORD=your_user_password
```

## EF Core
Blazor Spark utilizes **EF Core** to make interacting with your database as simple as possible. If you've never used EF Core before, you can check out Microsofts documentation [here](https://learn.microsoft.com/en-us/ef/core/).

To learn more about how Blazor Spark utilizes **EF Core migrations** go [here](/docs/models-and-migrations).

To learn more about how Blazor Spark utilizes **EF Core data access** go [here](/docs/data-access).

## Database Context
When a Blazor Spark app starts, a DB Context Factory is created and added to your apps DI container via Sparks internal service registration.

> Spark uses a DB Context Factory because Blazor applications do not create a service scope that aligned with the desired DB Context lifetime and will result in errors in your Blazor app.
> You can read more about this [here](https://learn.microsoft.com/en-us/ef/core/dbcontext-configuration/#using-a-dbcontext-factory-eg-for-blazor).

You can inject the DB Context Factory in your services like this:

```csharp
public class UsersService
{
    private readonly IDbContextFactory<ApplicationDbContext> _factory;

    public UsersService(IDbContextFactory<ApplicationDbContext> factory)
    {
        _factory = factory;
    }
}
```