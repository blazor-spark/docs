---
title: "Introduction"
description: "Docs intro"
---
import Sidebar from '../../components/DocsMobileSidebar.astro';

# Introduction
<Sidebar />

```csharp
using BlazorSpark.Data;
using Microsoft.EntityFrameworkCore;

namespace BlazorSpark.Lib.Auth
{
    public class RolesService
    {
        private readonly IDbContextFactory<ApplicationDbContext> _factory;

        public RolesService(IDbContextFactory<ApplicationDbContext> factory)
        {
            _factory = factory;
        }

        public async Task<List<Role>> FindUserRolesAsync(int userId)
        {
            using var context = _factory.CreateDbContext();
            var roles = await context.Roles.Where(role => role.UserRoles.Any(x => x.UserId == userId)).ToListAsync();
            return roles;
        }

        public async Task<bool> IsUserInRole(int userId, string roleName)
        {
            using var context = _factory.CreateDbContext();
            var userRolesQuery = from role in context.Roles
                                 where role.Name == roleName
                                 from user in role.UserRoles
                                 where user.UserId == userId
                                 select role;
            var userRole = await userRolesQuery.FirstOrDefaultAsync();
            return userRole != null;
        }

        public async Task<List<User>> FindUsersInRoleAsync(string roleName)
        {
            using var context = _factory.CreateDbContext();
            var roleUserIdsQuery = from role in context.Roles
                                   where role.Name == roleName
                                   from user in role.UserRoles
                                   select user.UserId;
            return await context.Users.Where(user => roleUserIdsQuery.Contains(user.Id))
                .ToListAsync();
        }
    }
}

```

This is the `docs` starter template. It contains all of the features that you need to build a Markdown-powered documentation site, including:

- ‚úÖ **Full Markdown support**
- ‚úÖ **Responsive mobile-friendly design**
- ‚úÖ **Sidebar navigation**
- ‚úÖ **Search (powered by Algolia)**
- ‚úÖ **Multi-language i18n**
- ‚úÖ **Automatic table of contents**
- ‚úÖ **Automatic list of contributors**
- ‚úÖ (and, best of all) **dark mode**


## Getting Started
### testing
To get started with this theme, check out the `README.md` in your new project directory. It provides documentation on how to use and customize this template for your own project. Keep the README around so that you can always refer back to it as you build.

Found a missing feature that you can't live without? Please suggest it [on our Discord](https://astro.build/chat) and even consider adding it yourself on GitHub! Astro is an open source project and contributions from developers like you are how we grow!

Good luck out there, Astronaut. üßë‚ÄçüöÄ