---
title: "Models & Migrations"
description: "Blazor Spark Models & Migrations"
---

## Introduction
Blazor Spark uses EF Core models and migrations to query your data and maintain your apps database.

## Creating a Model
To create a new model, simply run the Spark  `make model` command.

```bash
spark make model Developer
```

A new class in the `Application/Models` folder will be created.

```csharp
public class Developer : BaseModel
{
    public int Id { get; set; }

    public string Name { get; set; }

    public string Title { get; set; }
}
```

Then, register your model in the `ApplicationDbContext` class in the `Application/Database` folder:
```csharp
public class ApplicationDbContext : DbContext
{
    public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options) : base(options)
    { }

    public virtual DbSet<Developer> Developers { set; get; }
    ...
```

## Migrations
### Create Migrations
Once your models are registered in your `ApplicationDbContext`, you can create a migration. This essentially acts as source control for your database schema. 

To create a new migration, simply run the Spark  `make migration` command.

```bash
spark make migration AddDeveloperTable
```

A new file with your schema changes is created in the `Application/Migrations` folder.

>
> ### Changing database types and migrations
> If you ever find your self in a scenario where you have created migrations and then decide to switch database types, you will need to clear your migration files out of the `Application/Migrations` folder.
>
> Then, create and run your migrations again. This is because migration files for one database type might not work for another due to different feature sets in those databases.

### Run Migrations
You can run your migration to apply the changes to your database with the Spark `migrate` command.
```bash
spark migrate
```